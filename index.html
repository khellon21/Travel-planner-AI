<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#2563eb">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='%232563eb' d='M11.5,4C10.67,4 10,4.67 10,5.5V6H14V5.5C14,4.67 13.33,4 12.5,4H11.5M11,7V18H13V7H11M12,22A2,2 0 0,1 10,20H8V18H10V19H14V18H16V20A2,2 0 0,1 14,22H12Z'/></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='%232563eb' d='M11.5,4C10.67,4 10,4.67 10,5.5V6H14V5.5C14,4.67 13.33,4 12.5,4H11.5M11,7V18H13V7H11M12,22A2,2 0 0,1 10,20H8V18H10V19H14V18H16V20A2,2 0 0,1 14,22H12Z'/></svg>">
    
    <title>WEhub - World Explorer | AI Travel Planner</title>
    <meta name="description" content="Plan your perfect trip with AI-driven insights and personalized recommendations.">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        window.jsPDF = window.jspdf.jsPDF;
    </script>
    <style>
        .download-buttons {
            display: flex;
            gap: 12px;
            margin-top: var(--spacing-md);
            flex-wrap: wrap;
        }

        .download-button {
            flex: 1;
            min-width: 200px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            background: rgba(251, 191, 36, 0.8);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            border: 1px solid rgba(255, 255, 255, 0.18);
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
            text-decoration: none;
        }

        .download-button:hover {
            background: rgba(251, 191, 36, 0.9);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(251, 191, 36, 0.3);
        }

        .download-button i {
            font-size: 1.1em;
        }

        @media (max-width: 768px) {
            .download-buttons {
                flex-direction: column;
            }
            
            .download-button {
                width: 100%;
                min-width: unset;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="main-header">
        <!-- Decorative SVG Elements -->
        <div class="header-decorations">
            <!-- Floating Plane -->
            <svg class="floating-icon plane-icon" viewBox="0 0 576 512" width="24" height="24">
                <path fill="currentColor" d="M482.3 192c34.2 0 93.7 29 93.7 64c0 36-59.5 64-93.7 64l-116.6 0L265.2 495.9c-5.7 10-16.3 16.1-27.8 16.1l-56.2 0c-10.6 0-18.3-10.2-15.4-20.4l49-171.6L112 320 68.8 377.6c-3 4-7.8 6.4-12.8 6.4l-42 0c-7.8 0-14-6.3-14-14c0-1.3 .2-2.6 .5-3.9L32 256 .5 145.9c-.4-1.3-.5-2.6-.5-3.9c0-7.8 6.3-14 14-14l42 0c5 0 9.8 2.4 12.8 6.4L112 192l102.9 0-49-171.6C162.9 10.2 170.6 0 181.2 0l56.2 0c11.5 0 22.1 6.2 27.8 16.1L365.7 192l116.6 0z"/>
            </svg>

            <!-- Floating Balloon -->
            <svg class="floating-icon balloon-icon" viewBox="0 0 24 24" width="24" height="24">
                <path fill="currentColor" d="M11.5,4C10.67,4 10,4.67 10,5.5V6H14V5.5C14,4.67 13.33,4 12.5,4H11.5M11,7V18H13V7H11M12,22A2,2 0 0,1 10,20H8V18H10V19H14V18H16V20A2,2 0 0,1 14,22H12Z"/>
            </svg>
        </div>
        
        <nav class="navbar container">
            <div class="logo">
                <!-- Hot Air Balloon Logo -->
                <svg viewBox="0 0 24 24" width="50" height="50">
                    <path fill="currentColor" d="M11.5,4C10.67,4 10,4.67 10,5.5V6H14V5.5C14,4.67 13.33,4 12.5,4H11.5M11,7V18H13V7H11M12,22A2,2 0 0,1 10,20H8V18H10V19H14V18H16V20A2,2 0 0,1 14,22H12Z"/>
                </svg>
            </div>
            <!-- Add Mobile Menu Toggle -->
            <button class="menu-toggle">
                <svg viewBox="0 0 24 24" width="24" height="24">
                    <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"/>
                </svg>
            </button>
            <ul class="nav-links">
                <li><a href="#features">Features</a></li>
                <li><a href="#how-it-works">How It Works</a></li>
                <li><a href="#testimonials">Testimonials</a></li>
                <li><a href="#contact">Contact</a></li>
                <li><a href="#login" class="btn-primary">Login</a></li>
            </ul>
        </nav>

        <!-- Add mobile menu script -->
        <script>
            // Mobile Menu Toggle
            const menuToggle = document.querySelector('.menu-toggle');
            const navLinks = document.querySelector('.nav-links');
            const navLinksItems = document.querySelectorAll('.nav-links a');

            menuToggle.addEventListener('click', () => {
                navLinks.classList.toggle('active');
                menuToggle.classList.toggle('active');
            });

            // Close menu when clicking a link
            navLinksItems.forEach(link => {
                link.addEventListener('click', () => {
                    navLinks.classList.remove('active');
                    menuToggle.classList.remove('active');
                });
            });

            // Close menu when clicking outside
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.nav-links') && !e.target.closest('.menu-toggle')) {
                    navLinks.classList.remove('active');
                    menuToggle.classList.remove('active');
                }
            });
        </script>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-background">
            <img src="https://images.unsplash.com/photo-1682687220742-aba13b6e50ba?auto=format&fit=crop&w=2000&q=80" alt="Beautiful travel destination" class="hero-bg">
            <div class="overlay"></div>
            <div class="floating-elements">
                <!-- Cloud 1 -->
                <svg class="cloud cloud1" viewBox="0 0 640 512" width="200" height="120">
                    <path fill="white" d="M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4z"/>
                </svg>
                
                <!-- Cloud 2 -->
                <svg class="cloud cloud2" viewBox="0 0 640 512" width="160" height="100">
                    <path fill="white" d="M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4z"/>
                </svg>
                
                <!-- Cloud 3 -->
                <svg class="cloud cloud3" viewBox="0 0 640 512" width="180" height="110">
                    <path fill="white" d="M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4z"/>
                </svg>

                <!-- Airplane -->
                <svg class="plane" viewBox="0 0 576 512" width="100" height="100">
                    <path fill="white" d="M482.3 192c34.2 0 93.7 29 93.7 64c0 36-59.5 64-93.7 64l-116.6 0L265.2 495.9c-5.7 10-16.3 16.1-27.8 16.1l-56.2 0c-10.6 0-18.3-10.2-15.4-20.4l49-171.6L112 320 68.8 377.6c-3 4-7.8 6.4-12.8 6.4l-42 0c-7.8 0-14-6.3-14-14c0-1.3 .2-2.6 .5-3.9L32 256 .5 145.9c-.4-1.3-.5-2.6-.5-3.9c0-7.8 6.3-14 14-14l42 0c5 0 9.8 2.4 12.8 6.4L112 192l102.9 0-49-171.6C162.9 10.2 170.6 0 181.2 0l56.2 0c11.5 0 22.1 6.2 27.8 16.1L365.7 192l116.6 0z"/>
                </svg>
            </div>
        </div>
        <div class="container">
            <div class="hero-content" data-aos="fade-up">
                <h1>Discover Your Next Adventure</h1>
                <p>Let AI craft your perfect journey across the world's most breathtaking destinations</p>
                <div class="search-container">
                    <input type="text" id="chatInput" placeholder="Ask me anything about travel..." class="destination-search">
                    <button class="btn-primary" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i>
                        Ask AI
                    </button>
            </div>
                <div id="chatResponse" class="chat-response"></div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features">
        <div class="container">
            <h2>Features</h2>
            <div class="features-grid">
                <div class="feature-item">
                    <!-- AI Brain Icon -->
                    <svg class="feature-icon" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M13 3C9.23 3 6.19 5.95 6 9.66l-1.92 2.53c-.24.31 0 .81.42.81H6v3c0 1.11.89 2 2 2h1v3h7v-4.69c2.37-1.12 4-3.51 4-6.31c0-3.86-3.14-7-7-7m1 11h-2v-1h2v1m2.31-4.9c-.09.33-.39.59-.73.59H14v1.59c0 .32-.26.58-.58.58h-2.84c-.32 0-.58-.26-.58-.58V9.69h-1.59c-.33 0-.63-.26-.72-.59c-.18-.67.28-1.41 1.05-1.41h1.26c0-.33.26-.59.58-.59h2.84c.32 0 .58.26.58.59h1.26c.77 0 1.23.74 1.05 1.41z"/>
                    </svg>
                    <h3>AI-Powered Insights</h3>
                    <p>Get recommendations tailored to your preferences and travel style.</p>
                </div>
                <div class="feature-item">
                    <!-- Map Icon -->
                    <svg class="feature-icon" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M15,19L9,16.89V5L15,7.11M20.5,3C20.44,3 20.39,3 20.34,3L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21C3.55,21 3.61,21 3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3Z"/>
                    </svg>
                    <h3>Interactive Maps</h3>
                    <p>Visualize your itinerary with our easy-to-use map interface.</p>
                </div>
                <div class="feature-item">
                    <!-- Chat/Community Icon -->
                    <svg class="feature-icon" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M12,3C17.5,3 22,6.58 22,11C22,15.42 17.5,19 12,19C10.76,19 9.57,18.82 8.47,18.5C5.55,21 2,21 2,21C4.33,18.67 4.7,17.1 4.75,16.5C3.05,15.07 2,13.13 2,11C2,6.58 6.5,3 12,3Z"/>
                    </svg>
                    <h3>Community Reviews</h3>
                    <p>Read reviews from fellow travelers to make informed decisions.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="how-it-works">
        <div class="container">
            <h2>How It Works</h2>
            <div class="steps">
                <div class="step">
                    <span class="step-number">1</span>
                    <h3>Tell Us Your Preferences</h3>
                    <p>Fill out a quick survey to help us understand your travel needs.</p>
                </div>
                <div class="step">
                    <span class="step-number">2</span>
                    <h3>Receive Your Plan</h3>
                    <p>Get a personalized travel itinerary based on your inputs.</p>
                </div>
                <div class="step">
                    <span class="step-number">3</span>
                    <h3>Enjoy Your Trip</h3>
                    <p>Embark on your journey with confidence and ease.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="testimonials">
        <div class="container">
            <h2 class="section-title" data-aos="fade-up">What Our Users Say</h2>
            <div class="testimonial-grid">
                <div class="testimonial-card" data-aos="fade-up" data-aos-delay="100">
                    <div class="testimonial-content">
                        <div class="quote-icon">
                            <svg viewBox="0 0 24 24" width="32" height="32">
                                <path fill="currentColor" d="M10,7L8,11H11V17H5V11L7,7H10M18,7L16,11H19V17H13V11L15,7H18Z" />
                            </svg>
                        </div>
                        <p>"WEhub made planning my trip so easy and enjoyable! The AI recommendations were spot on and saved me hours of research. I'll definitely be using this for all my future travels."</p>
                    </div>
                    <div class="testimonial-author">
                        <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150&h=150&fit=crop" alt="Alex T." class="testimonial-avatar">
                        <div class="author-info">
                            <h4>Alex Thompson</h4>
                            <span>Adventure Enthusiast</span>
                        </div>
                    </div>
                </div>

                <div class="testimonial-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="testimonial-content">
                        <div class="quote-icon">
                            <svg viewBox="0 0 24 24" width="32" height="32">
                                <path fill="currentColor" d="M10,7L8,11H11V17H5V11L7,7H10M18,7L16,11H19V17H13V11L15,7H18Z" />
                            </svg>
                        </div>
                        <p>"The personalized itineraries are amazing! Every detail was considered, and the local insights made our trip truly special. This is the future of travel planning."</p>
                    </div>
                    <div class="testimonial-author">
                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop" alt="Michael R." class="testimonial-avatar">
                        <div class="author-info">
                            <h4>Michael Rodriguez</h4>
                            <span>Digital Nomad</span>
                        </div>
                    </div>
                </div>

                <div class="testimonial-card" data-aos="fade-up" data-aos-delay="300">
                    <div class="testimonial-content">
                        <div class="quote-icon">
                            <svg viewBox="0 0 24 24" width="32" height="32">
                                <path fill="currentColor" d="M10,7L8,11H11V17H5V11L7,7H10M18,7L16,11H19V17H13V11L15,7H18Z" />
                            </svg>
                        </div>
                        <p>"Best travel planning experience I've ever had! The AI understood exactly what I was looking for and created the perfect itinerary. The interface is intuitive and the recommendations are fantastic."</p>
                    </div>
                    <div class="testimonial-author">
                        <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop" alt="Sarah L." class="testimonial-avatar">
                        <div class="author-info">
                            <h4>Sarah Lee</h4>
                            <span>Travel Blogger</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Popular Destinations Section -->
    <section class="destinations" id="destinations">
        <div class="container">
            <h2 class="section-title" data-aos="fade-up">Popular Destinations</h2>
            <div class="destination-grid">
                <div class="destination-card" data-aos="fade-up" data-aos-delay="100">
                    <div class="card-image">
                        <img src="https://images.unsplash.com/photo-1511739001486-6bfe10ce785f?q=80&w=2574&auto=format&fit=crop" alt="Paris - Eiffel Tower at sunset">
                        <div class="card-overlay">
                            <h3>Paris</h3>
                            <p>The City of Light</p>
                        </div>
                    </div>
                </div>
                <div class="destination-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="card-image">
                        <img src="https://images.unsplash.com/photo-1537996194471-e657df975ab4?auto=format&fit=crop&w=2574" alt="Bali - Rice Terraces">
                        <div class="card-overlay">
                            <h3>Bali</h3>
                            <p>Island of the Gods</p>
                        </div>
                    </div>
                </div>
                <div class="destination-card" data-aos="fade-up" data-aos-delay="300">
                    <div class="card-image">
                        <img src="https://images.unsplash.com/photo-1531366936337-7c912a4589a7?auto=format&fit=crop&w=2574" alt="Swiss Alps - Matterhorn">
                        <div class="card-overlay">
                            <h3>Swiss Alps</h3>
                            <p>Winter Paradise</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact">
        <div class="container">
            <h2 class="section-title" data-aos="fade-up">Contact Us</h2>
            <div class="contact-wrapper">
                <!-- Contact Information -->
                <div class="contact-info" data-aos="fade-right">
                    <div class="info-item">
                        <svg class="contact-icon" viewBox="0 0 24 24">
                            <path fill="currentColor" d="M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z"/>
                        </svg>
                        <div class="info-content">
                            <h3>Location</h3>
                            <p>123 Travel Street, Adventure City, AC 12345</p>
                        </div>
                    </div>
                    <div class="info-item">
                        <svg class="contact-icon" viewBox="0 0 24 24">
                            <path fill="currentColor" d="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z"/>
                        </svg>
                        <div class="info-content">
                            <h3>Email</h3>
                            <p>hello@WEhubpal.com</p>
                        </div>
                    </div>
                    <div class="info-item">
                        <svg class="contact-icon" viewBox="0 0 24 24">
                            <path fill="currentColor" d="M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z"/>
                        </svg>
                        <div class="info-content">
                            <h3>Phone</h3>
                            <p>+1 (555) 123-4567</p>
                        </div>
                    </div>
                </div>

                <!-- Contact Form -->
                <form class="contact-form" data-aos="fade-left">
                    <div class="form-group">
                <input type="text" placeholder="Your Name" required>
                    </div>
                    <div class="form-group">
                <input type="email" placeholder="Your Email" required>
                    </div>
                    <div class="form-group">
                        <input type="text" placeholder="Subject" required>
                    </div>
                    <div class="form-group">
                        <textarea placeholder="Your Message" required rows="6"></textarea>
                    </div>
                    <button type="submit" class="btn-primary">
                        <span>Send Message</span>
                        <svg class="send-icon" viewBox="0 0 24 24">
                            <path fill="currentColor" d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                        </svg>
                    </button>
            </form>
            </div>
        </div>
    </section>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="login-container">
                <h2>Welcome Back!</h2>
                <p>Login to access AI travel assistance</p>
                <form id="loginForm" class="login-form">
                    <div class="form-group">
                        <input type="email" id="loginEmail" placeholder="Email Address" required>
                    </div>
                    <div class="form-group">
                        <input type="password" id="loginPassword" placeholder="Password" required>
                    </div>
                    <div class="form-group remember-me">
                        <label class="checkbox-label">
                            <input type="checkbox" id="loginRememberMe">
                            <span>Remember me</span>
                        </label>
                    </div>
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-sign-in-alt"></i>
                        Login
                    </button>
                </form>
                <div class="login-footer">
                    <p>Don't have an account? <a href="#" id="showSignup">Sign up</a></p>
                </div>
            </div>
            <div class="signup-container" style="display: none;">
                <h2>Create Account</h2>
                <p>Join us for personalized travel recommendations</p>
                <form id="signupForm" class="login-form">
                    <div class="form-group">
                        <input type="text" id="signupName" placeholder="Full Name" required>
                    </div>
                    <div class="form-group">
                        <input type="email" id="signupEmail" placeholder="Email Address" required>
                    </div>
                    <div class="form-group">
                        <input type="password" id="signupPassword" placeholder="Password" required>
                    </div>
                    <div class="form-group remember-me">
                        <label class="checkbox-label">
                            <input type="checkbox" id="signupRememberMe">
                            <span>Remember me</span>
                        </label>
                    </div>
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-user-plus"></i>
                        Sign Up
                    </button>
                </form>
                <div class="login-footer">
                    <p>Already have an account? <a href="#" id="showLogin">Login</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-top">
        <div class="container">
                <div class="footer-grid">
                    <!-- Company Info -->
                    <div class="footer-company">
                <div class="footer-logo">
                            <!-- Hot Air Balloon Logo -->
                            <svg viewBox="0 0 24 24" width="60" height="60">
                                <path fill="currentColor" d="M11.5,4C10.67,4 10,4.67 10,5.5V6H14V5.5C14,4.67 13.33,4 12.5,4H11.5M11,7V18H13V7H11M12,22A2,2 0 0,1 10,20H8V18H10V19H14V18H16V20A2,2 0 0,1 14,22H12Z"/>
                            </svg>
                            <h3>WEhub - World Explorer</h3>
                            <p>Your AI-powered travel companion for unforgettable adventures around the globe.</p>
                        </div>
                        <div class="footer-contact">
                            <p><svg viewBox="0 0 24 24" width="16" height="16"><path fill="currentColor" d="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z"/></svg> hello@WEhubpal.com</p>
                            <p><svg viewBox="0 0 24 24" width="16" height="16"><path fill="currentColor" d="M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z"/></svg> +1 (555) 123-4567</p>
                        </div>
                </div>

                    <!-- Quick Links -->
                    <div class="footer-links-section">
                        <h4>Quick Links</h4>
                <div class="footer-links">
                    <a href="#features">Features</a>
                    <a href="#how-it-works">How It Works</a>
                            <a href="#destinations">Popular Destinations</a>
                    <a href="#testimonials">Testimonials</a>
                            <a href="#contact">Contact Us</a>
                        </div>
                    </div>

                    <!-- Popular Destinations -->
                    <div class="footer-destinations">
                        <h4>Top Destinations</h4>
                        <div class="footer-links">
                            <a href="#">Paris, France</a>
                            <a href="#">Bali, Indonesia</a>
                            <a href="#">Swiss Alps</a>
                            <a href="#">Tokyo, Japan</a>
                            <a href="#">New York, USA</a>
                        </div>
                    </div>

                    <!-- Newsletter -->
                    <div class="footer-newsletter">
                        <h4>Newsletter</h4>
                        <p>Subscribe for travel tips and exclusive deals</p>
                        <form class="newsletter-form">
                            <input type="email" placeholder="Enter your email">
                            <button type="submit" class="btn-primary">Subscribe</button>
                        </form>
                </div>
                </div>
            </div>
        </div>

        <!-- Social Links & Copyright -->
            <div class="footer-bottom">
            <div class="container">
                <div class="footer-bottom-content">
                    <div class="social-links">
                        <a href="#" class="social-link">
                            <svg viewBox="0 0 24 24" width="24" height="24">
                                <path fill="currentColor" d="M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.34 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96A10 10 0 0 0 22 12.06C22 6.53 17.5 2.04 12 2.04Z"/>
                            </svg>
                        </a>
                        <a href="#" class="social-link">
                            <svg viewBox="0 0 24 24" width="24" height="24">
                                <path fill="currentColor" d="M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z"/>
                            </svg>
                        </a>
                        <a href="#" class="social-link">
                            <svg viewBox="0 0 24 24" width="24" height="24">
                                <path fill="currentColor" d="M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"/>
                            </svg>
                        </a>
                    </div>
                    <p class="copyright">&copy; 2024 WEhub. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        // Initialize AOS
        AOS.init({
            duration: 800,
            offset: 100,
            once: true
        });

        // Update the API configuration
        const API_URL = 'https://api.mistral.ai/v1/chat/completions';
        const MISTRAL_API_KEY = 'LPIsKXAxSF8FxDLL6Mf7XuQBmGcfKeCs';

        // Authentication State
        let isAuthenticated = localStorage.getItem('isAuthenticated') === 'true';
        let currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');

        // Update UI based on auth state
        function updateAuthUI() {
            const loginBtn = document.querySelector('.nav-links a[href="#login"]');
            const chatInput = document.getElementById('chatInput');
            const chatButton = document.querySelector('.search-container .btn-primary');
            const responseDiv = document.getElementById('chatResponse');
            
            if (isAuthenticated && currentUser) {
                loginBtn.innerHTML = `<i class="fas fa-user"></i> ${currentUser.name}`;
                loginBtn.onclick = handleLogout;
                chatInput.placeholder = "Ask me anything about travel...";
                chatInput.disabled = false;
                chatButton.disabled = false;
                responseDiv.innerHTML = ''; // Clear any previous messages
            } else {
                loginBtn.innerHTML = '<i class="fas fa-sign-in-alt"></i> Login';
                loginBtn.onclick = openLoginModal;
                chatInput.placeholder = "Ask me anything about travel...";
                chatInput.disabled = false;
                chatButton.disabled = false;
                responseDiv.innerHTML = '';
            }
        }

        // Add mobile-specific login styles
        const mobileLoginStyles = document.createElement('style');
        mobileLoginStyles.textContent = `
            @media (max-width: 768px) {
                .modal {
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    background: rgba(0, 0, 0, 0.85);
                    backdrop-filter: blur(10px);
                    -webkit-backdrop-filter: blur(10px);
                    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
                }
                
                .modal-content {
                    width: 90%;
                    max-width: 400px;
                    max-height: 90vh;
                    margin: auto;
                    overflow-y: auto;
                    padding: 20px;
                    border-radius: 15px;
                    background: rgba(30, 30, 30, 0.95);
                    border: 1px solid rgba(255, 255, 255, 0.1);
                    transform: translateY(0);
                    opacity: 1;
                    transition: all 0.3s ease;
                }
                
                .modal:not(.show) .modal-content {
                    transform: translateY(20px);
                    opacity: 0;
                }
                
                .login-container, .signup-container {
                    padding: 15px;
                    width: 100%;
                }
                
                .close-modal {
                    position: absolute;
                    right: 15px;
                    top: 15px;
                    font-size: 24px;
                    color: white;
                    opacity: 0.8;
                    cursor: pointer;
                    z-index: 1000;
                    padding: 10px;
                }
                
                .close-modal:hover {
                    opacity: 1;
                }

                /* Fix for notched phones */
                @supports (padding: max(0px)) {
                    .modal-content {
                        padding-left: max(20px, env(safe-area-inset-left));
                        padding-right: max(20px, env(safe-area-inset-right));
                        padding-bottom: max(20px, env(safe-area-inset-bottom));
                        padding-top: max(20px, env(safe-area-inset-top));
                    }
                }
            }
        `;
        document.head.appendChild(mobileLoginStyles);

        // Update sendMessage function to check for fictional places
        async function sendMessage() {
            if (!isAuthenticated) {
                openLoginModal();
                return;
            }

            const input = document.getElementById('chatInput');
            const responseDiv = document.getElementById('chatResponse');
            const message = input.value.trim();
            
            if (!message) return;

            // List of fictional places to check against
            const fictionalPlaces = [
                // Anime & Manga Locations
                'hidden leaf', 'konoha', 'sand village', 'sunagakure', 'mist village', 'kirigakure',
                'cloud village', 'kumogakure', 'stone village', 'iwagakure', 'rain village', 'amegakure',
                'sound village', 'otogakure', 'waterfall village', 'takigakure', 'grass village', 'kusagakure',
                'akihabara', 'shibuya crossing', 'soul society', 'hueco mundo', 'namek', 'marineford',
                'wano', 'alabasta', 'dressrosa', 'whole cake island', 'fishman island',
                
                // General Fantasy Locations
                'hogwarts', 'narnia', 'mordor', 'gotham', 'wakanda', 'atlantis', 'neverland',
                'wonderland', 'middle earth', 'westeros', 'asgard', 'pandora', 'emerald city',
                'rivendell', 'hogsmeade', 'diagon alley', 'death star', 'bikini bottom',
                'mushroom kingdom', 'hyrule',
                
                // Keywords
                'anime', 'manga', 'cartoon', 'fictional', 'fantasy', 'imaginary', 'made up',
                'not real', 'virtual', 'game world', 'comic', 'animated'
            ];

            // Check if the question contains fictional places
            const hasFictionalPlace = fictionalPlaces.some(place => 
                message.toLowerCase().includes(place.toLowerCase())
            );

            if (hasFictionalPlace) {
                responseDiv.innerHTML = `
                    <div class="error">
                        <p>I apologize, but I can only provide information about real destinations. The place you mentioned appears to be fictional.</p>
                    </div>
                `;
                input.value = '';
                return;
            }

            // Check if the question is travel-related
            const travelKeywords = [
                'travel', 'trip', 'vacation', 'visit', 'tour', 'flight', 'hotel', 'destination',
                'city', 'country', 'place', 'beach', 'mountain', 'resort', 'holiday', 'guide',
                'tourist', 'sightseeing', 'attractions', 'landmarks', 'itinerary', 'explore',
                'adventure', 'journey', 'booking', 'accommodation', 'stay', 'tourism'
            ];

            const isTravelRelated = travelKeywords.some(keyword => 
                message.toLowerCase().includes(keyword.toLowerCase())
            );

            if (!isTravelRelated) {
                responseDiv.innerHTML = `
                    <div class="error">
                        <p>I can only help you with travel-related questions. Please ask me about travel plans, destinations, hotels, or attractions.</p>
                        <p>Example questions:</p>
                        <ul>
                            <li>"Plan a 5-day trip to Paris"</li>
                            <li>"What are the best hotels in Tokyo?"</li>
                            <li>"Suggest tourist attractions in New York"</li>
                        </ul>
                    </div>
                `;
                input.value = '';
                return;
            }

            // Show loading state with spinner
            responseDiv.innerHTML = `
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <div class="loading-text">Generating your travel recommendations...</div>
                </div>
            `;

            let retryCount = 0;
            const maxRetries = 3;
            
            async function tryRequest() {
                try {
                    const response = await fetch(API_URL, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${MISTRAL_API_KEY}`,
                            'Accept': 'application/json'
                        },
                        body: JSON.stringify({
                            model: "mistral-tiny",
                            messages: [
                                {
                                    role: "system",
                                    content: `You are a helpful travel assistant, providing detailed advice and recommendations for travel planning. 
                                    For EACH city or destination in the itinerary, you MUST:
                                    1. Recommend at least 3 hotels for each category:
                                       - Luxury (5-star): Include full names, price range ($$$-$$$$), and unique features
                                       - Mid-range (3-4 star): Include full names, price range ($$-$$$), and amenities
                                       - Budget-friendly (2-3 star): Include full names, price range ($-$$), and value propositions
                                    2. For each hotel, specify:
                                       - Exact location and address
                                       - Distance from major attractions
                                       - Nearby public transportation
                                       - Popular landmarks within walking distance
                                    3. Format the response in a clear day-by-day structure:
                                       - Day 1: [City Name]
                                         - Activities and attractions
                                         - Recommended hotels near these locations
                                       - Day 2: [City Name]
                                         - Activities and attractions
                                         - Recommended hotels near these locations
                                       [Continue for each day]
                                    4. Include approximate current prices in USD for all hotels
                                    5. Mention if any hotels are particularly good for specific types of travelers (families, business, couples, etc.)
                                    6. Include any special notes about peak seasons or best times to book`
                                },
                                {
                                    role: "user",
                                    content: message
                                }
                            ],
                            temperature: 0.7,
                            max_tokens: 2048
                        })
                    });

                    const data = await response.json();
                    
                    if (!response.ok) {
                        throw new Error(data.error?.message || 'Network response was not ok');
                    }

                    if (!data.choices || !data.choices[0] || !data.choices[0].message) {
                        throw new Error('Invalid response format from AI');
                    }

                    const aiResponse = data.choices[0].message.content;
                    
                    // Format and display the response with download buttons
                    responseDiv.innerHTML = `
                        <div class="ai-response">
                            <div class="response-content">${formatResponse(aiResponse)}</div>
                            <div class="download-buttons">
                                <button onclick="downloadTravelPlan('${encodeURIComponent(message)}', '${encodeURIComponent(aiResponse)}', 'txt')" class="download-button">
                                    <i class="fas fa-download"></i>
                                    Download as Text
                                </button>
                                <button onclick="downloadTravelPlan('${encodeURIComponent(message)}', '${encodeURIComponent(aiResponse)}', 'pdf')" class="download-button">
                                    <i class="fas fa-file-pdf"></i>
                                    Download as PDF
                                </button>
                            </div>
                        </div>
                    `;
                    return true;
                } catch (error) {
                    console.error('API Error:', error);
                    retryCount++;
                    
                    if (retryCount < maxRetries) {
                        // Show loading state during retry
                        responseDiv.innerHTML = `
                            <div class="loading">
                                <div class="loading-spinner"></div>
                                <div class="loading-text">Retrying... Attempt ${retryCount + 1} of ${maxRetries}</div>
                            </div>
                        `;
                        await new Promise(resolve => setTimeout(resolve, 1000)); // Wait 1 second before retrying
                        return false;
                    } else {
                        responseDiv.innerHTML = `
                            <div class="error">
                                <p>Sorry, I couldn't process your request after several attempts. Please try again.</p>
                                <small>${error.message}</small>
                                <button onclick="sendMessage()" class="btn-primary retry-button">
                                    <i class="fas fa-redo"></i>
                                    Try Again
                                </button>
                            </div>
                        `;
                        return true;
                    }
                }
            }

            // Keep trying until success or max retries reached
            while (!(await tryRequest()) && retryCount < maxRetries) {
                continue;
            }

            input.value = '';
        }

        function downloadTravelPlan(question, answer, format = 'txt') {
            try {
                // Decode the encoded strings
                const decodedQuestion = decodeURIComponent(question);
                const decodedAnswer = decodeURIComponent(answer);
                
                // Format the content nicely
                const content = `TRAVEL PLAN
==========
Question: ${decodedQuestion}
==========

DETAILED ITINERARY:
${decodedAnswer.replace(/<br>/g, '\n').replace(/<[^>]+>/g, '')}
==========
Generated by WEhub - AI Travel Assistant
Date: ${new Date().toLocaleString()}`;

                if (format === 'pdf') {
                    // Create PDF using jsPDF
                    const doc = new jsPDF();
                    
                    // Set up PDF styling
                    doc.setFont("helvetica", "bold");
                    doc.setFontSize(16);
                    doc.text("Travel Plan", 20, 20);
                    
                    doc.setFont("helvetica", "normal");
                    doc.setFontSize(12);
                    doc.text("Generated by WEhub", 20, 30);
                    doc.text(new Date().toLocaleString(), 20, 40);
                    
                    doc.setFontSize(14);
                    doc.text("Your Question:", 20, 60);
                    doc.setFontSize(12);
                    const questionLines = doc.splitTextToSize(decodedQuestion, 170);
                    doc.text(questionLines, 20, 70);
                    
                    doc.setFontSize(14);
                    doc.text("Detailed Itinerary:", 20, 90);
                    doc.setFontSize(12);
                    
                    // Format the answer text
                    const cleanAnswer = decodedAnswer.replace(/<br>/g, '\n').replace(/<[^>]+>/g, '');
                    const answerLines = doc.splitTextToSize(cleanAnswer, 170);
                    
                    let yPos = 100;
                    answerLines.forEach(line => {
                        if (yPos > 280) {
                            doc.addPage();
                            yPos = 20;
                        }
                        doc.text(line, 20, yPos);
                        yPos += 7;
                    });
                    
                    // Save the PDF
                    doc.save('travel-plan.pdf');
                } else {
                    // Download as text file
                    const blob = new Blob([content], { type: 'text/plain' });
                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'travel-plan.txt';
                    document.body.appendChild(a);
                    a.click();
                    setTimeout(() => {
                        document.body.removeChild(a);
                        window.URL.revokeObjectURL(url);
                    }, 100);
                }
            } catch (error) {
                console.error('Error downloading travel plan:', error);
                alert('There was an error downloading your travel plan. Please try again.');
            }
        }

        // Check for stored response on page load
        window.addEventListener('load', function() {
            const responseDiv = document.getElementById('chatResponse');
            const storedResponse = localStorage.getItem('lastAIResponse');
            
            if (storedResponse) {
                const { response } = JSON.parse(storedResponse);
                responseDiv.innerHTML = `
                    <div class="ai-response">
                        <div class="response-content">${formatResponse(response)}</div>
                    </div>
                `;
            }
        });

        // Handle chat button click
        document.querySelector('.search-container .btn-primary').addEventListener('click', function(e) {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;

            if (!isAuthenticated) {
                openLoginModal();
                return;
            }
            sendMessage();
        });

        // Handle Enter key in chat input
        document.getElementById('chatInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                const message = this.value.trim();
                
                if (!message) return;

                if (!isAuthenticated) {
                    openLoginModal();
                    return;
                }
                sendMessage();
            }
        });

        // Handle successful login/signup
        function handleSuccessfulAuth() {
            closeLoginModal();
            updateAuthUI();
            
            // If there was a pending message, send it now
            const chatInput = document.getElementById('chatInput');
            if (chatInput.value.trim()) {
                sendMessage();
            }
        }

        // Show login required message
        function showLoginRequired() {
            const loginRequired = document.createElement('div');
            loginRequired.className = 'login-required';
            loginRequired.innerHTML = `
                <h3>Login Required</h3>
                <p>Please log in to use our AI travel assistant and get personalized recommendations.</p>
                <button class="btn-primary" onclick="openLoginModal(); removeLoginRequired();">
                    <i class="fas fa-sign-in-alt"></i>
                    Login to Continue
                </button>
            `;
            document.body.appendChild(loginRequired);

            // Remove the message when clicking outside
            setTimeout(() => {
                document.addEventListener('click', function removeMessage(e) {
                    if (!loginRequired.contains(e.target)) {
                        removeLoginRequired();
                        document.removeEventListener('click', removeMessage);
                    }
                });
            }, 100);
        }

        function removeLoginRequired() {
            const loginRequired = document.querySelector('.login-required');
            if (loginRequired) {
                loginRequired.remove();
            }
        }

        // Handle chat input focus
        document.getElementById('chatInput').addEventListener('focus', function(e) {
            if (!isAuthenticated) {
                e.preventDefault();
                this.blur();
                showLoginRequired();
            }
        });

        // Handle chat button click
        document.querySelector('.search-container .btn-primary').addEventListener('click', function(e) {
            if (!isAuthenticated) {
                e.preventDefault();
                showLoginRequired();
                return;
            }
            sendMessage();
        });

        // Handle Enter key in chat input
        document.getElementById('chatInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                if (!isAuthenticated) {
                    e.preventDefault();
                    showLoginRequired();
                    return;
                }
                sendMessage();
            }
        });

        // Format the AI response with better styling
        function formatResponse(text) {
            // First, handle basic formatting
            text = text
                .replace(/\n/g, '<br>')
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>');

            // Handle hotel names with more comprehensive patterns
            text = text.replace(
                /(?:Hotel|Resort|Inn|Suites|Palace|Hilton|Marriott|Hyatt|Westin|Sheraton|Ritz-Carlton|Four Seasons|InterContinental|Grand|Luxury)\s+[\w\s\-&,'"]+(?=[\.,\s])/g,
                function(match) {
                    const encodedHotel = encodeURIComponent(match);
                    return `<a href="https://www.expedia.com/Hotel-Search?destination=${encodedHotel}" target="_blank" class="hotel-link">${match}</a>`;
                }
            );

            // Handle addresses and locations more comprehensively
            text = text.replace(
                /(\d+[\s\w]+(?:Street|St|Avenue|Ave|Road|Rd|Boulevard|Blvd|Lane|Ln|Drive|Dr|Way|Place|Pl|Square|Sq)[\s\w,]+(?:\d{5})?)/gi,
                function(match) {
                    const encodedAddress = encodeURIComponent(match);
                    return `<a href="https://www.google.com/maps/search/?api=1&query=${encodedAddress}" target="_blank" class="map-link">${match}</a>`;
                }
            );

            // Handle city, country combinations
            text = text.replace(
                /([A-Z][a-zA-Z\s]+(?:,\s*[A-Z][a-zA-Z\s]+)+)/g,
                function(match) {
                    const encodedLocation = encodeURIComponent(match);
                    return `<a href="https://www.google.com/maps/search/?api=1&query=${encodedLocation}" target="_blank" class="map-link">${match}</a>`;
                }
            );

            // Handle landmarks and tourist attractions with a more comprehensive list
            const landmarks = [
                'Temple', 'Museum', 'Palace', 'Castle', 'Cathedral', 'Church', 'Mosque', 'Park',
                'Garden', 'Square', 'Market', 'Bridge', 'Tower', 'Monument', 'Statue', 'Gallery',
                'Theater', 'Opera', 'Arena', 'Stadium', 'Beach', 'Mountain', 'Lake', 'River',
                'Waterfall', 'Forest', 'Zoo', 'Aquarium', 'Observatory', 'Fort', 'Ruins',
                'Archaeological Site', 'National Park', 'Sanctuary', 'Shrine', 'Memorial',
                'Library', 'University', 'Port', 'Harbor', 'Bay', 'Island', 'Peninsula',
                'Lighthouse', 'Pier', 'Boardwalk', 'Plaza', 'Quarter', 'District'
            ];
            
            const landmarkPattern = new RegExp(`((?:${landmarks.join('|')})\\s+[\\w\\s,&-]+)(?=[\\.,\\s])`, 'g');
            text = text.replace(landmarkPattern, function(match) {
                const encodedLandmark = encodeURIComponent(match);
                return `<a href="https://www.google.com/maps/search/?api=1&query=${encodedLandmark}" target="_blank" class="map-link">${match}</a>`;
            });

            return text;
        }

        // Add styles for map links
        const style = document.createElement('style');
        style.textContent = `
            .map-link {
                color: var(--accent-color);
                text-decoration: none;
                border-bottom: 1px dashed var(--accent-color);
                transition: all 0.3s ease;
            }
            .map-link:hover {
                color: var(--primary-color);
                border-bottom-style: solid;
            }
            .map-link::after {
                content: "📍";
                font-size: 0.9em;
                margin-left: 4px;
                opacity: 0.8;
            }
            .hotel-link {
                color: #00a4bb;
                text-decoration: none;
                border-bottom: 1px dashed #00a4bb;
                transition: all 0.3s ease;
            }
            .hotel-link:hover {
                color: #007c8c;
                border-bottom-style: solid;
            }
            .hotel-link::after {
                content: "🏨";
                font-size: 0.9em;
                margin-left: 4px;
                opacity: 0.8;
            }
        `;
        document.head.appendChild(style);

        // Smooth scroll for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Parallax effect for hero section
        window.addEventListener('scroll', function() {
            const scrolled = window.pageYOffset;
            const parallax = document.querySelector('.hero-background');
            parallax.style.transform = `translateY(${scrolled * 0.5}px)`;
        });

        // Add mobile-optimized styles
        const mobileStyles = document.createElement('style');
        mobileStyles.textContent = `
            .loading {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 1rem;
                padding: 1.5rem;
            }

            .loading-spinner {
                width: 40px;
                height: 40px;
                border: 3px solid rgba(255, 255, 255, 0.3);
                border-radius: 50%;
                border-top-color: var(--accent-color);
                animation: spin 1s linear infinite;
            }

            .loading-text {
                color: white;
                font-size: 0.9rem;
            }

            @keyframes spin {
                to { transform: rotate(360deg); }
            }

            .response-header {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                margin-bottom: 1rem;
                color: var(--accent-color);
                font-weight: 500;
            }

            .error {
                text-align: center;
                padding: 2rem;
            }

            .error-icon {
                color: #ef4444;
                font-size: 2rem;
                margin-bottom: 1rem;
            }

            .retry-button {
                margin-top: 1rem;
                display: inline-flex;
                align-items: center;
                gap: 0.5rem;
                padding: 0.75rem 1.5rem;
            }

            @media (max-width: 768px) {
                .ai-response {
                    margin: 1rem;
                    padding: 1.25rem;
                    font-size: 0.95rem;
                    line-height: 1.6;
                }

                .hotel-link, .map-link {
                    display: inline-flex;
                    align-items: center;
                    padding: 0.25rem 0;
                }

                .hotel-link::after, .map-link::after {
                    margin-left: 0.25rem;
                }

                .loading-text {
                    font-size: 0.85rem;
                }
            }
        `;
        document.head.appendChild(mobileStyles);

        // Prevent double-tap zoom on mobile
        document.addEventListener('touchstart', function(e) {
            if (e.target.classList.contains('btn-primary') || 
                e.target.classList.contains('hotel-link') || 
                e.target.classList.contains('map-link')) {
                e.preventDefault();
            }
        }, { passive: false });

        // Handle network connectivity
        window.addEventListener('online', function() {
            const errorDiv = document.querySelector('.error');
            if (errorDiv) {
                errorDiv.style.display = 'none';
            }
        });

        window.addEventListener('offline', function() {
            const responseDiv = document.getElementById('chatResponse');
            if (responseDiv) {
                responseDiv.innerHTML = `
                    <div class="error">
                        <div class="error-icon"><i class="fas fa-wifi"></i></div>
                        <p>Please check your internet connection and try again.</p>
                    </div>
                `;
            }
        });

        // Add styles for login prompt
        const loginPromptStyles = document.createElement('style');
        loginPromptStyles.textContent = `
            .login-prompt {
                text-align: center;
                padding: 2rem;
                background: rgba(255, 255, 255, 0.15);
                backdrop-filter: blur(10px);
                border-radius: 15px;
                margin: 1rem;
                animation: fadeIn 0.3s ease-out;
            }
            .login-prompt p {
                color: white;
                font-size: 1.1rem;
                margin: 0;
            }
            .login-prompt a {
                color: var(--accent-color);
                text-decoration: none;
                font-weight: 600;
                padding: 0.25rem 0.5rem;
                border-radius: 4px;
                transition: all 0.3s ease;
            }
            .login-prompt a:hover {
                background: rgba(255, 255, 255, 0.1);
            }
            @media (max-width: 768px) {
                .login-prompt {
                    margin: 1rem;
                    padding: 1.5rem;
                }
                .login-prompt p {
                    font-size: 1rem;
                }
            }
        `;
        document.head.appendChild(loginPromptStyles);

        // Handle chat input focus
        document.getElementById('chatInput').addEventListener('focus', function(e) {
            if (!isAuthenticated) {
                e.preventDefault();
                this.blur();
                openLoginModal();
            }
        });

        // Prevent chat form submission when not authenticated
        document.querySelector('.search-container').addEventListener('submit', function(e) {
            e.preventDefault();
            if (!isAuthenticated) {
                openLoginModal();
                return false;
            }
        });

        // Enhanced mobile menu handling
        menuToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            navLinks.classList.toggle('active');
            menuToggle.classList.toggle('active');
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', (e) => {
            if (navLinks.classList.contains('active') && 
                !e.target.closest('.nav-links') && 
                !e.target.closest('.menu-toggle')) {
                navLinks.classList.remove('active');
                menuToggle.classList.remove('active');
            }
        });

        // Prevent scroll when modal is open
        function toggleModalScroll(isOpen) {
            document.body.style.overflow = isOpen ? 'hidden' : '';
            document.body.style.position = isOpen ? 'fixed' : '';
            document.body.style.width = isOpen ? '100%' : '';
        }

        // Handle Login
        document.getElementById('loginForm').onsubmit = function(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            const rememberMe = document.getElementById('loginRememberMe').checked;

            // Basic validation
            if (!email || !password) {
                alert('Please enter both email and password');
                return;
            }

            // Store user credentials
            isAuthenticated = true;
            currentUser = {
                name: email.split('@')[0],
                email: email
            };
            
            if (rememberMe) {
                // Store in localStorage for persistent login
                localStorage.setItem('isAuthenticated', 'true');
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                localStorage.setItem('rememberMe', 'true');
            } else {
                // Store in sessionStorage for temporary login
                sessionStorage.setItem('isAuthenticated', 'true');
                sessionStorage.setItem('currentUser', JSON.stringify(currentUser));
                // Clear any existing localStorage data
                localStorage.removeItem('isAuthenticated');
                localStorage.removeItem('currentUser');
                localStorage.removeItem('rememberMe');
            }
            
            handleSuccessfulAuth();
        }

        // Handle Signup
        document.getElementById('signupForm').onsubmit = function(e) {
            e.preventDefault();
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const rememberMe = document.getElementById('signupRememberMe').checked;

            // Basic validation
            if (!name || !email || !password) {
                alert('Please fill in all fields');
                return;
            }

            // Store user credentials
            isAuthenticated = true;
            currentUser = {
                name: name,
                email: email
            };
            
            if (rememberMe) {
                // Store in localStorage for persistent login
                localStorage.setItem('isAuthenticated', 'true');
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                localStorage.setItem('rememberMe', 'true');
            } else {
                // Store in sessionStorage for temporary login
                sessionStorage.setItem('isAuthenticated', 'true');
                sessionStorage.setItem('currentUser', JSON.stringify(currentUser));
                // Clear any existing localStorage data
                localStorage.removeItem('isAuthenticated');
                localStorage.removeItem('currentUser');
                localStorage.removeItem('rememberMe');
            }
            
            handleSuccessfulAuth();
        }

        // Handle Logout
        function handleLogout(e) {
            e.preventDefault();
            isAuthenticated = false;
            currentUser = null;
            // Clear both storage types
            localStorage.removeItem('isAuthenticated');
            localStorage.removeItem('currentUser');
            localStorage.removeItem('rememberMe');
            sessionStorage.removeItem('isAuthenticated');
            sessionStorage.removeItem('currentUser');
            updateAuthUI();
            const responseDiv = document.getElementById('chatResponse');
            if (responseDiv) {
                responseDiv.innerHTML = '';
            }
        }

        // Check authentication state on page load
        window.addEventListener('load', function() {
            // First check localStorage for persistent login
            const persistentAuth = localStorage.getItem('isAuthenticated');
            const persistentUser = localStorage.getItem('currentUser');
            const rememberMe = localStorage.getItem('rememberMe');
            
            // Then check sessionStorage for temporary login
            const sessionAuth = sessionStorage.getItem('isAuthenticated');
            const sessionUser = sessionStorage.getItem('currentUser');
            
            if (persistentAuth === 'true' && persistentUser && rememberMe === 'true') {
                isAuthenticated = true;
                currentUser = JSON.parse(persistentUser);
            } else if (sessionAuth === 'true' && sessionUser) {
                isAuthenticated = true;
                currentUser = JSON.parse(sessionUser);
            } else {
                isAuthenticated = false;
                currentUser = null;
            }
            updateAuthUI();
        });

        // Modal handling
        function openLoginModal() {
            const modal = document.getElementById('loginModal');
            const loginContainer = document.querySelector('.login-container');
            const signupContainer = document.querySelector('.signup-container');
            
            modal.style.display = 'flex';
            loginContainer.style.display = 'block';
            signupContainer.style.display = 'none';
            document.body.classList.add('modal-open');
        }

        function closeLoginModal() {
            const modal = document.getElementById('loginModal');
            modal.style.display = 'none';
            document.body.classList.remove('modal-open');
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('loginModal');
            if (event.target == modal) {
                closeLoginModal();
            }
        }

        // Close button functionality
        document.querySelector('.close-modal').addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            closeLoginModal();
        });

        // Switch between login and signup forms
        document.getElementById('showSignup').onclick = function(e) {
            e.preventDefault();
            document.querySelector('.login-container').style.display = 'none';
            document.querySelector('.signup-container').style.display = 'block';
        }

        document.getElementById('showLogin').onclick = function(e) {
            e.preventDefault();
            document.querySelector('.signup-container').style.display = 'none';
            document.querySelector('.login-container').style.display = 'block';
        }

        // Update error message styles
        const errorStyles = document.createElement('style');
        errorStyles.textContent = `
            .error {
                background: rgba(255, 255, 255, 0.1);
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px);
                border-radius: 15px;
                padding: 1.5rem;
                margin: 1rem;
                color: white;
                text-align: left;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            }

            .error p {
                margin: 0.5rem 0;
                font-size: 1rem;
                line-height: 1.5;
            }

            .error ul {
                margin: 1rem 0;
                padding-left: 1rem;
                list-style-type: none;
            }

            .error li {
                margin: 0.5rem 0;
                padding: 0.75rem 1rem;
                background: rgba(255, 255, 255, 0.05);
                border-radius: 8px;
                font-size: 0.95rem;
            }

            .error li:before {
                content: "💡";
                margin-right: 8px;
            }

            @media (max-width: 768px) {
                .error {
                    margin: 0.75rem;
                    padding: 1.25rem;
                }

                .error p {
                    font-size: 0.9rem;
                }

                .error li {
                    padding: 0.5rem 0.75rem;
                    font-size: 0.85rem;
                }
            }
        `;
        document.head.appendChild(errorStyles);

        // Add enhanced mobile styles
        const mobileEnhancedStyles = document.createElement('style');
        mobileEnhancedStyles.textContent = `
            @media (max-width: 768px) {
                /* Modal Improvements */
                .modal-content {
                    width: 90%;
                    max-height: 85vh;
                    margin: 20px auto;
                    padding: 20px;
                    border-radius: 15px;
                    overflow-y: auto;
                    -webkit-overflow-scrolling: touch;
                }

                .login-container, .signup-container {
                    padding: 15px;
                    width: 100%;
                }

                .modal {
                    align-items: flex-start;
                    padding-top: 50px;
                    background: rgba(0, 0, 0, 0.8);
                }

                .close-modal {
                    position: fixed;
                    right: 20px;
                    top: 20px;
                    font-size: 28px;
                    color: white;
                    z-index: 1000;
                }

                /* Form Improvements */
                .form-group input {
                    height: 45px;
                    font-size: 16px;
                    padding: 10px 15px;
                }

                .remember-me {
                    margin: 15px 0;
                }

                .checkbox-label {
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    font-size: 14px;
                }

                input[type="checkbox"] {
                    width: 20px;
                    height: 20px;
                    margin: 0;
                }

                /* Search Container */
                .search-container {
                    flex-direction: column;
                    gap: 10px;
                    padding: 15px;
                    width: 100%;
                }

                .destination-search {
                    width: 100%;
                    height: 45px;
                    font-size: 16px;
                    padding: 10px 15px;
                }

                .btn-primary {
                    width: 100%;
                    height: 45px;
                    font-size: 16px;
                    margin-top: 5px;
                }

                /* Response Area */
                .chat-response {
                    margin: 10px;
                    padding: 10px;
                }

                .ai-response {
                    padding: 15px;
                    font-size: 14px;
                    line-height: 1.6;
                }

                /* Navigation */
                .nav-links {
                    background: rgba(0, 0, 0, 0.95);
                    backdrop-filter: blur(10px);
                    -webkit-backdrop-filter: blur(10px);
                }

                .nav-links.active {
                    padding: 20px;
                    gap: 15px;
                }

                .nav-links a {
                    padding: 12px 15px;
                    width: 100%;
                    text-align: center;
                    font-size: 16px;
                }

                /* Download Buttons */
                .download-buttons {
                    flex-direction: column;
                    gap: 10px;
                    margin: 15px 0;
                }

                .download-button {
                    width: 100%;
                    padding: 12px 20px;
                    font-size: 14px;
                }

                /* Error Messages */
                .error {
                    margin: 10px;
                    padding: 15px;
                    font-size: 14px;
                }

                /* Loading State */
                .loading {
                    padding: 20px;
                }

                .loading-spinner {
                    width: 30px;
                    height: 30px;
                    border-width: 2px;
                }

                .loading-text {
                    font-size: 14px;
                }

                /* Links */
                .map-link, .hotel-link {
                    display: inline-flex;
                    align-items: center;
                    word-break: break-word;
                    padding: 2px 0;
                }

                /* Fix for iOS input zoom */
                @media screen and (-webkit-min-device-pixel-ratio: 0) { 
                    select,
                    textarea,
                    input {
                        font-size: 16px !important;
                    }
                }

                /* Safe area insets for notched phones */
                @supports (padding: max(0px)) {
                    .modal-content,
                    .search-container,
                    .nav-links {
                        padding-left: max(15px, env(safe-area-inset-left));
                        padding-right: max(15px, env(safe-area-inset-right));
                        padding-bottom: max(15px, env(safe-area-inset-bottom));
                    }
                }
            }
        `;
        document.head.appendChild(mobileEnhancedStyles);

        // Add mobile-specific login form styles
        const mobileFormStyles = document.createElement('style');
        mobileFormStyles.textContent = `
            @media (max-width: 768px) {
                .login-form .form-group {
                    margin-bottom: 15px;
                    width: 100%;
                }

                .login-form input[type="email"],
                .login-form input[type="password"],
                .login-form input[type="text"] {
                    height: 44px;
                    font-size: 16px !important;
                    padding: 10px 15px;
                    width: 100%;
                    border-radius: 8px;
                    border: 1px solid rgba(255, 255, 255, 0.3);
                    background: rgba(255, 255, 255, 0.15);
                    color: #ffffff !important;
                    -webkit-appearance: none;
                    backdrop-filter: blur(10px);
                    -webkit-backdrop-filter: blur(10px);
                }

                .login-form input::placeholder {
                    color: rgba(255, 255, 255, 0.7);
                }

                .login-form .btn-primary {
                    height: 44px;
                    font-size: 16px;
                    width: 100%;
                    margin-top: 20px;
                    border-radius: 8px;
                    background: var(--accent-color);
                    border: none;
                    color: white;
                    font-weight: 500;
                    -webkit-appearance: none;
                    cursor: pointer;
                }

                .login-form .remember-me {
                    margin: 15px 0;
                    display: flex;
                    align-items: center;
                }

                .login-form .checkbox-label {
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    font-size: 14px;
                    color: white;
                    cursor: pointer;
                }

                .login-form input[type="checkbox"] {
                    width: 20px;
                    height: 20px;
                    margin: 0;
                    -webkit-appearance: none;
                    border: 1px solid rgba(255, 255, 255, 0.3);
                    border-radius: 4px;
                    background: rgba(255, 255, 255, 0.15);
                    position: relative;
                    cursor: pointer;
                }

                .login-form input[type="checkbox"]:checked {
                    background: var(--accent-color);
                    border-color: var(--accent-color);
                }

                .login-form input[type="checkbox"]:checked:after {
                    content: "✓";
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    color: white;
                    font-size: 14px;
                }

                .modal-content {
                    padding-bottom: max(20px, env(safe-area-inset-bottom));
                    background: rgba(0, 0, 0, 0.85);
                    backdrop-filter: blur(10px);
                    -webkit-backdrop-filter: blur(10px);
                }

                .login-footer {
                    margin-top: 20px;
                    text-align: center;
                    color: white;
                }

                .login-footer a {
                    color: var(--accent-color);
                    text-decoration: none;
                    font-weight: 500;
                }

                .login-container h2,
                .signup-container h2 {
                    color: white;
                    margin-bottom: 10px;
                }

                .login-container p,
                .signup-container p {
                    color: rgba(255, 255, 255, 0.7);
                    margin-bottom: 20px;
                }

                /* Fix for iOS zoom on input focus */
                @supports (-webkit-touch-callout: none) {
                    .login-form input[type="email"],
                    .login-form input[type="password"],
                    .login-form input[type="text"] {
                        font-size: 16px !important;
                    }
                }
            }
        `;
        document.head.appendChild(mobileFormStyles);
    </script>
</body>
</html>
